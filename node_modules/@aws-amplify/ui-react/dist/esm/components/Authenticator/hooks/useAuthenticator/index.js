import{jsx as e}from"react/jsx-runtime";import*as t from"react";import{getSendEventAliases as r,getServiceContextFacade as s,createAuthenticatorMachine as i,listenToAuthHub as o}from"@aws-amplify/ui";import{useSelector as n,useInterpret as c}from"@xstate/react";import a from"lodash/isEmpty";import{areArraysEqual as m}from"../../../../helpers/utils.js";const u=t.createContext({}),f=({children:r})=>{const s=t.useContext(u),n={service:c(i)},m=a(s)?n:s,{service:{send:f}}=m;return t.useEffect((()=>o(f)),[]),e(u.Provider,Object.assign({value:m},{children:r}))},p=e=>{const{service:i}=t.useContext(u),o=i.send,c=t.useMemo((()=>r(o)),[i]),a=e=>Object.assign(Object.assign({},c),s(e)),f=n(i,(e=>e),((t,r)=>{if(!e)return!1;const s=a(t),i=a(r),o=e(s),n=e(i);return m(o,n)}));return Object.assign(Object.assign({},a(f)),{_state:f,_send:o})};export{u as AuthenticatorContext,f as Provider,p as useAuthenticator};
//# sourceMappingURL=index.js.map
