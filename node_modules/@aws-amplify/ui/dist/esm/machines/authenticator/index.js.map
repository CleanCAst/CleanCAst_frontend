{"version":3,"file":"index.js","sources":["../../../../../src/machines/authenticator/index.ts"],"sourcesContent":[null],"names":["createAuthenticatorMachine","createMachine","id","initial","context","user","undefined","config","services","defaultServices","actorRef","states","idle","invoke","src","onDone","actions","target","onError","setup","waitConfig","on","INIT","applyConfig","goToInitialState","always","cond","signIn","spawnActor","runActor","entry","exit","SIGN_UP","RESET_PASSWORD","signUp","autoSignIn","SIGN_IN","resetPassword","signOut","authenticated","SIGN_OUT","CHANGE","BLUR","SUBMIT","FEDERATED_SIGN_IN","RESEND","SKIP","forwardToActor","forwardTo","setUser","assign","_","event","data","setActorDoneData","actorDoneData","authAttributes","_a","intent","_b","clearUser","clearActorDoneData","applyAmplifyConfig","cliLoginMechanisms","aws_cognito_username_attributes","map","s","toLowerCase","cliVerificationMechanisms","_d","_c","aws_cognito_verification_mechanisms","cliSignUpAttributes","_f","_e","aws_cognito_signup_attributes","cliSocialProviders","_h","_g","aws_cognito_social_providers","cliPasswordSettings","aws_cognito_password_protection_settings","length","push","_k","loginMechanisms","signUpAttributes","socialProviders","initialState","formFields","_j","convertFormFields","passwordSettings","Array","from","Set","__spreadArray","sort","spawnSignInActor","actor","signInActor","withContext","country_code","formValues","touched","validationError","spawn","name","spawnSignUpActor","createSignUpMachine","spawnResetPasswordActor","resetPasswordActor","username","spawnSignOutActor","signOutActor","stopSignInActor","stopActor","stopSignUpActor","stopResetPasswordActor","stopSignOutActor","configure","customServices","__rest","__assign","guards","isInitialStateSignUp","isInitialStateResetPassword","shouldRedirectToSignUp","shouldRedirectToResetPassword","getCurrentUser","getAmplifyConfig","Object","keys","forEach","component","inputName","ff","required","isRequired"],"mappings":"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"}